<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Payment — Joy Igbinosa</title>
  <style>
    :root{--accent:#b22f6f;--muted:#666}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;margin:0;background:#fff;color:#111}
    .container{max-width:900px;margin:36px auto;padding:24px}
    header{display:flex;align-items:center;gap:16px}
    h1{margin:0;font-size:22px}
    .account-card{border:3px solid var(--accent);border-radius:12px;padding:18px;display:flex;justify-content:space-between;align-items:center;background:linear-gradient(90deg,rgba(178,47,111,0.03),transparent)}
    .account-info{line-height:1.25}
    .label{font-size:12px;color:var(--muted);}
    .value{font-weight:700;font-size:18px}
    button.copy{background:var(--accent);color:#fff;border:none;padding:10px 12px;border-radius:8px;cursor:pointer}

    form{margin-top:22px;border-radius:12px;padding:18px;border:1px solid #eee}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .field{display:flex;flex-direction:column}
    label{font-size:13px;margin-bottom:6px;color:var(--muted)}
    input[type="text"],input[type="email"],input[type="tel"],textarea,select{padding:10px;border-radius:8px;border:1px solid #ddd;font-size:14px}
    textarea{min-height:100px}
    .actions{display:flex;gap:12px;align-items:center;margin-top:12px}
    .primary{background:var(--accent);color:#fff;border:none;padding:12px 16px;border-radius:10px;cursor:pointer}
    .secondary{background:#f3f3f3;border:1px solid #eee;padding:10px 12px;border-radius:10px;cursor:pointer}

    .notice{font-size:13px;color:#333;margin-top:10px}
    footer{margin-top:18px;font-size:13px;color:var(--muted)}

    @media (max-width:700px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div style="width:56px;height:56px;border-radius:12px;background:linear-gradient(180deg,#ffd6e9,#fff);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent)">JI</div>
      <div>
        <h1>Pay to Joy Igbinosa</h1>
        <div style="color:var(--muted);font-size:13px">Make your payment and submit your details below</div>
      </div>
    </header>

    <section class="account-card" aria-label="payment-details">
      <div class="account-info">
        <div class="label">Account Name</div>
        <div class="value">Joy Igbinosa</div>

        <div style="height:10px"></div>
        <div class="label">Account Number</div>
        <div class="value">8100653023</div>

        <div style="height:10px"></div>
        <div class="label">Bank</div>
        <div class="value">Moniepoint</div>
      </div>

      <div style="display:flex;flex-direction:column;gap:10px;align-items:flex-end">
        <div style="text-align:right;font-size:13px;color:var(--muted)">Copy details</div>
        <div style="display:flex;gap:8px">
          <button class="copy" id="copyAccount">Copy</button>
        </div>
        <div style="font-size:12px;color:var(--muted);text-align:right">Make sure to include your transaction reference when you pay.</div>
      </div>
    </section>

    <form id="paymentForm">
      <div class="grid">
        <div class="field">
          <label for="fullname">Full name</label>
          <input id="fullname" name="fullname" type="text" required placeholder="Your full name" />
        </div>
        <div class="field">
          <label for="whatsapp">WhatsApp number (include country code)</label>
          <input id="whatsapp" name="whatsapp" type="tel" required placeholder="e.g. +2348012345678" />
        </div>

        <div class="field">
          <label for="email">Email address</label>
          <input id="email" name="email" type="email" placeholder="you@example.com" />
        </div>
        <div class="field">
          <label for="amount">Amount paid (₦)</label>
          <input id="amount" name="amount" type="text" placeholder="e.g. 1500" required />
        </div>
      </div>

      <div style="margin-top:12px" class="field">
        <label for="txref">Transaction reference (from your bank)</label>
        <input id="txref" name="txref" type="text" placeholder="e.g. TRX12345678" required />
      </div>

      <div class="actions">
        <button type="submit" class="primary">Send details & Confirm</button>
        <button type="button" id="openPaymentPage" class="secondary">Open payment instructions</button>
        <div style="margin-left:auto;font-size:13px;color:var(--muted)">Your details will be emailed to the owner.</div>
      </div>

      <p class="notice">Important: This page only collects payment confirmation and contact details. It does not process card payments — complete the transfer using the account information shown above.</p>
    </form>

    <footer>Need help? Contact: <a href="mailto:mellisadyne77@gmail.com">mellisadyne77@gmail.com</a></footer>
  </div>

  <script>
    // --- Configuration ---
    // If you have a Formspree endpoint, put it here. Otherwise the form will open the user's mail client as fallback.
    const FORM_ENDPOINT = ""; // <-- OPTIONAL: e.g. https://formspree.io/f/mayknrlj
    const RECEIVER_EMAIL = "mellisadyne77@gmail.com";

    // Copy account details
    document.getElementById('copyAccount').addEventListener('click', async ()=>{
      const text = `Account Name: Joy Igbinosa\nAccount Number: 8100653023\nBank: Moniepoint`;
      try{
        await navigator.clipboard.writeText(text);
        alert('Account details copied to clipboard');
      }catch(e){
        // fallback
        const ta = document.createElement('textarea'); ta.value = text; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); ta.remove();
        alert('Account details copied to clipboard');
      }
    });

    // Open payment instructions (provided URL)
    document.getElementById('openPaymentPage').addEventListener('click', ()=>{
      window.open('https://sugarmummy-seven.vercel.app/payment.html','_blank');
    });

    // Form submission handler
    document.getElementById('paymentForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const data = {
        fullname: document.getElementById('fullname').value.trim(),
        whatsapp: document.getElementById('whatsapp').value.trim(),
        email: document.getElementById('email').value.trim(),
        amount: document.getElementById('amount').value.trim(),
        txref: document.getElementById('txref').value.trim(),
        message: document.getElementById('message').value.trim(),
        paidTo: 'Joy Igbinosa',
        accountNumber: '8100653023',
        bank: 'Moniepoint'
      };

      // Basic validation
      if(!data.fullname || !data.whatsapp || !data.amount || !data.txref){
        alert('Please fill the required fields.');
        return;
      }

      const bodyText = `Payment confirmation from website:\n\nFull name: ${data.fullname}\nWhatsApp: ${data.whatsapp}\nEmail: ${data.email || 'N/A'}\nAmount: ₦${data.amount}\nTransaction reference: ${data.txref}\nNotes: ${data.message || 'N/A'}\n\nPaid to:\nAccount Name: ${data.paidTo}\nAccount Number: ${data.accountNumber}\nBank: ${data.bank}`;

      // If a Formspree endpoint is provided, try sending there first
      if(FORM_ENDPOINT){
        try{
          const resp = await fetch(FORM_ENDPOINT, {
            method: 'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify({email: data.email||'no-reply@example.com', message: bodyText, whatsapp: data.whatsapp, fullname: data.fullname})
          });
          if(resp.ok){
            alert('Details sent — thank you!');
            document.getElementById('paymentForm').reset();
            return;
          }
        }catch(err){
          console.warn('Formspree submit failed', err);
        }
      }

      // Fallback: open user's mail client with prefilled email
      const subject = encodeURIComponent('Payment confirmation from website — ' + data.fullname);
      const body = encodeURIComponent(bodyText);
      const mailto = `mailto:${RECEIVER_EMAIL}?subject=${subject}&body=${body}`;
      // Open mail client in new window/tab
      window.location.href = mailto;
    });
  </script>
</body>
</html>
